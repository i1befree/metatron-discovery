<!--
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="ddp-layout-popuptype" *ngIf="isShow">
  <em class="ddp-bg-popup" ></em>
  <div class="ddp-ui-popup" >
    <!-- title -->
    <div class="ddp-ui-popup-title">
      <span class="ddp-txt-title-name">
          {{'msg.board.ui.set.order.title' | translate}}
      </span>

      <div class="ddp-ui-pop-buttons">
        <a href="javascript:" draggable="false" class="ddp-btn-pop" (click)="isShow = false">{{'msg.comm.btn.cancl' | translate}}</a>
        <a href="javascript:" draggable="false" class="ddp-btn-pop ddp-bg-black" (click)="changeOrder()">{{'msg.comm.btn.done' | translate}}</a>
      </div>
      <!-- det -->
    </div>
    <!-- //title -->
    <div class="ddp-ui-popup-contents">
      <!-- order -->
      <div class="ddp-wrap-order">
        <!-- result -->
        <div class="ddp-ui-result">
          <span class="ddp-data-result">{{'msg.board.ui.num.board' | translate : {value :dashboards.length} }}</span>
          <span class="ddp-data-result ddp-selected"><em class="ddp-icon-eyes2"></em>{{showListCount}}</span>
        </div>
        <!-- //result -->
        <div class="ddp-wrap-order-setting">
          <ul class="ddp-list-order" dnd-sortable-container [sortableData]="dashboards" [dropZones]="['source-dropZone']">
            <li *ngFor="let dashboard of dashboards ; let x = index"
                dnd-sortable
                [sortableIndex]="x"
                [dragEnabled]="true"
                [dragData]="dashboard"
                >
              <span class="ddp-data-num">{{x+1}}</span>
              <!-- image -->
              <div class="ddp-wrap-image">
                <div class="ddp-ui-image">
                  <img [src]="getUserImage(dashboard)"/>
                  <!-- hover box -->
                  <div class="ddp-box-hover">
                    <img [src]="getUserImage(dashboard)" />
                  </div>
                  <!-- //hover box -->
                </div>
              </div>
              <!-- //image -->

              <!-- name -->
              <div class="ddp-data-name">
                <!-- 사용자에게 show hide 상태면 none -->
                <em  *ngIf="!isWorkspaceViewer"
                     class="ddp-icon-eyes2-none"
                     [class.ddp-icon-eyes2]="!dashboard.hiding"
                     (click)="checkHiding(dashboard)"></em>
                <span class="ddp-txt-name">{{dashboard.name}}</span>
              </div>
              <!-- //name -->
            </li>
          </ul>
        </div>
      </div>
      <!-- //order -->
    </div>
  </div>
</div>
